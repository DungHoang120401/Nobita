# Shadowrocket: 2024-12-13 16:10:36
[General]
ipv6 = true
always-real-ip = *.apple.com
bypass-system = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = system,8.8.8.8,1.1.1.1
icmp-auto-reply = true
private-ip-answer = true
update-url = https://raw.githubusercontent.com/DungHoang120401/Nobita/refs/heads/CSA_Module/Youtube_Nobita.conf

[Rule]
FINAL,PROXY

[URL Rewrite]
^https:\/\/api\.baomoi\.com\/a465 _ REJECT-200
(^https?:\/\/[\w-]+\.googlevideo\.com\/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302
^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad _ reject-200
^https?:\/\/(www|s)\.youtube\.com\/api\/stats\/ads _ reject-200
^https?:\/\/(www|s)\.youtube\.com\/(pagead|ptracking) _ reject-200
^https?:\/\/s\.youtube\.com\/api\/stats\/qoe\?adcontext _ reject-200

[Header Rewrite]
^https?://api.revenuecat.com/.+/(receipts$|subscribers/?(.*?)*$) header-del x-revenuecat-etag
^https?://api.revenuecat.com/.+/(receipts$|subscribers/?(.*?)*$) header-del X-RevenueCat-ETag
^https:\/\/spclient\.wg\.spotify\.com\/user-customization-service\/v1\/customize$ header-del if-none-match

[Script]
#Youtube Premium
#By: Nobita (MOD CSA)
youtube.request = type=http-request,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|reel\/reel_watch_sequence|get_watch),requires-body=1,max-size=-1,binary-body-mode=1,engine=jsc,script-path=https://github.com/lonely0811/Surge/raw/main/js/youtube.request.preview.js
youtube.response = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch),requires-body=1,max-size=-1,binary-body-mode=1,engine=jsc,script-path=https://github.com/lonely0811/Surge/raw/main/js/youtube.response.preview.js,argument="{"lyricLang":"vi","captionLang":"vi","blockUpload":true,"blockImmersive":true,"debug":false}"

[MITM]
ca-passphrase = Shadowrocket
ca-p12 = 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
enable = true
hostname = %APPEND% *.googlevideo.com, youtubei.googleapis.com
